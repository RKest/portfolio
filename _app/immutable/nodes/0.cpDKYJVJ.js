import{v as J,a as P,n as C,c as I,o as ne,w as oe,x as se,y as ie,z as re}from"../chunks/scheduler.BU-tLS9o.js";import{S as U,i as j,k as g,A as ae,d as _,h as A,e as le,c as ce,o as T,g as w,H as F,y as Q,u as me,s as de,v as ue,f as fe,w as he,n as V,l as q,x as ge}from"../chunks/index.Bc9tibMd.js";import{d as B,w as h}from"../chunks/index.B7sHHJB3.js";const ye=!0,De=Object.freeze(Object.defineProperty({__proto__:null,prerender:ye},Symbol.toStringTag,{value:"Module"}));let z,O;function G(o){if(typeof document>"u")return;clearTimeout(z),clearTimeout(O);const e=document.createElement("style"),n=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);e.appendChild(n);const t=()=>document.head.appendChild(e),i=()=>document.head.removeChild(e);if(typeof window.getComputedStyle<"u"){t(),o(),window.getComputedStyle(e).opacity,i();return}if(typeof window.requestAnimationFrame<"u"){t(),o(),window.requestAnimationFrame(i);return}t(),z=window.setTimeout(()=>{o(),O=window.setTimeout(i,120)},120)}function D(o){return o.filter(e=>e.length>0)}const R={getItem:o=>null,setItem:(o,e)=>{}},y=typeof document<"u",_e=["dark","light","system"],M=h("mode-watcher-mode"),v=h("mode-watcher-theme"),W=we(),E=Te(),X=h(void 0),Y=ke(),L=h(!0),Z=h([]),x=h([]),Se=Ce(),be=Me();function we(){const o="system",e=y?localStorage:R,n=e.getItem(i());let t=K(n)?n:o;function i(){return J(M)}const{subscribe:r,set:s}=h(t,()=>{if(!y)return;const l=m=>{if(m.key!==i())return;const u=m.newValue;K(u)?s(t=u):s(t=o)};return addEventListener("storage",l),()=>removeEventListener("storage",l)});function a(l){s(t=l),e.setItem(i(),t)}return{subscribe:r,set:a}}function ke(){const o=y?localStorage:R,e=o.getItem(t());let n=e??"";function t(){return J(v)}const{subscribe:i,set:r}=h(n,()=>{if(!y)return;const a=l=>{if(l.key!==t())return;const m=l.newValue;r(m===null?n="":n=m)};return addEventListener("storage",a),()=>removeEventListener("storage",a)});function s(a){r(n=a),o.setItem(t(),n)}return{subscribe:i,set:s}}function Te(){let e=!0;const{subscribe:n,set:t}=h(void 0,()=>{if(!y)return;const s=l=>{e&&t(l.matches?"light":"dark")},a=window.matchMedia("(prefers-color-scheme: light)");return a.addEventListener("change",s),()=>a.removeEventListener("change",s)});function i(){if(!y)return;const s=window.matchMedia("(prefers-color-scheme: light)");t(s.matches?"light":"dark")}function r(s){e=s}return{subscribe:n,query:i,tracking:r}}function Ce(){const{subscribe:o}=B([W,E,X,L,Z,x],([e,n,t,i,r,s])=>{if(!y)return;const a=e==="system"?n:e,l=D(r),m=D(s);function u(){const d=document.documentElement,f=document.querySelector('meta[name="theme-color"]');a==="light"?(l.length&&d.classList.remove(...l),m.length&&d.classList.add(...m),d.style.colorScheme="light",f&&t&&f.setAttribute("content",t.light)):(m.length&&d.classList.remove(...m),l.length&&d.classList.add(...l),d.style.colorScheme="dark",f&&t&&f.setAttribute("content",t.dark))}return i?G(u):u(),a});return{subscribe:o}}function Me(){const{subscribe:o}=B([Y,L],([e,n])=>{if(!y)return;function t(){document.documentElement.setAttribute("data-theme",e)}return n?G(t):t(),e});return{subscribe:o}}function K(o){return typeof o!="string"?!1:_e.includes(o)}function ve(o){W.set(o)}function Ee(o){Y.set(o)}function N({defaultMode:o,themeColors:e,darkClassNames:n=["dark"],lightClassNames:t=[],defaultTheme:i=""}){const r=document.documentElement,s=localStorage.getItem("mode-watcher-mode")||o,a=localStorage.getItem("mode-watcher-theme")||i,l=s==="light"||s==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(l?(n.length&&r.classList.remove(...n),t.length&&r.classList.add(...t)):(t.length&&r.classList.remove(...t),n.length&&r.classList.add(...n)),r.style.colorScheme=l?"light":"dark",e){const m=document.querySelector('meta[name="theme-color"]');m&&m.setAttribute("content",s==="light"?e.light:e.dark)}a&&(r.setAttribute("data-theme",a),localStorage.setItem("mode-watcher-theme",a)),localStorage.setItem("mode-watcher-mode",s)}function H(o){let e,n;return{c(){e=le("meta"),this.h()},l(t){e=ce(t,"META",{name:!0,content:!0}),this.h()},h(){T(e,"name","theme-color"),T(e,"content",n=o[0].dark)},m(t,i){w(t,e,i)},p(t,i){i&1&&n!==(n=t[0].dark)&&T(e,"content",n)},d(t){t&&_(e)}}}function Ke(o){let e,n="<script>("+N.toString()+")("+JSON.stringify(o[2])+");<\/script>",t;return{c(){e=new F(!1),t=g(),this.h()},l(i){e=Q(i,!1),t=g(),this.h()},h(){e.a=t},m(i,r){e.m(n,i,r),w(i,t,r)},p:C,d(i){i&&(_(t),e.d())}}}function Ne(o){let e,n=`<script nonce=${o[1]}>(`+N.toString()+")("+JSON.stringify(o[2])+");<\/script>",t;return{c(){e=new F(!1),t=g(),this.h()},l(i){e=Q(i,!1),t=g(),this.h()},h(){e.a=t},m(i,r){e.m(n,i,r),w(i,t,r)},p(i,r){r&2&&n!==(n=`<script nonce=${i[1]}>(`+N.toString()+")("+JSON.stringify(i[2])+");<\/script>")&&e.p(n)},d(i){i&&(_(t),e.d())}}}function Le(o){let e,n,t=o[0]&&H(o);function i(a,l){return a[1]?Ne:Ke}let r=i(o),s=r(o);return{c(){t&&t.c(),e=g(),s.c(),n=g()},l(a){const l=ae("svelte-1nen96w",document.head);t&&t.l(l),e=g(),s.l(l),n=g(),l.forEach(_)},m(a,l){t&&t.m(document.head,null),A(document.head,e),s.m(document.head,null),A(document.head,n)},p(a,[l]){a[0]?t?t.p(a,l):(t=H(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),r===(r=i(a))&&s?s.p(a,l):(s.d(1),s=r(a),s&&(s.c(),s.m(n.parentNode,n)))},i:C,o:C,d(a){t&&t.d(a),_(e),s.d(a),_(n)}}}function pe(o,e,n){let t,i,r;I(o,v,c=>n(12,i=c)),I(o,M,c=>n(13,r=c));let{track:s=!0}=e,{defaultMode:a="system"}=e,{themeColors:l=void 0}=e,{disableTransitions:m=!0}=e,{darkClassNames:u=["dark"]}=e,{lightClassNames:d=[]}=e,{defaultTheme:f=""}=e,{nonce:k=""}=e,{themeStorageKey:S="mode-watcher-theme"}=e,{modeStorageKey:b="mode-watcher-mode"}=e;ne(()=>{const c=Se.subscribe(()=>{}),ee=be.subscribe(()=>{});E.tracking(s),E.query();const p=localStorage.getItem(r);ve(K(p)?p:a);const te=localStorage.getItem(i);return Ee(te||f),()=>{c(),ee()}});const $={defaultMode:a,themeColors:l,darkClassNames:u,lightClassNames:d,defaultTheme:f,modeStorageKey:b,themeStorageKey:S};return o.$$set=c=>{"track"in c&&n(3,s=c.track),"defaultMode"in c&&n(4,a=c.defaultMode),"themeColors"in c&&n(0,l=c.themeColors),"disableTransitions"in c&&n(5,m=c.disableTransitions),"darkClassNames"in c&&n(6,u=c.darkClassNames),"lightClassNames"in c&&n(7,d=c.lightClassNames),"defaultTheme"in c&&n(8,f=c.defaultTheme),"nonce"in c&&n(9,k=c.nonce),"themeStorageKey"in c&&n(10,S=c.themeStorageKey),"modeStorageKey"in c&&n(11,b=c.modeStorageKey)},o.$$.update=()=>{o.$$.dirty&32&&L.set(m),o.$$.dirty&1&&X.set(l),o.$$.dirty&64&&Z.set(u),o.$$.dirty&128&&x.set(d),o.$$.dirty&2048&&M.set(b),o.$$.dirty&1024&&v.set(S),o.$$.dirty&512&&n(1,t=typeof window>"u"?k:"")},[l,t,$,s,a,m,u,d,f,k,S,b]}class Ie extends U{constructor(e){super(),j(this,e,pe,Le,P,{track:3,defaultMode:4,themeColors:0,disableTransitions:5,darkClassNames:6,lightClassNames:7,defaultTheme:8,nonce:9,themeStorageKey:10,modeStorageKey:11})}}function Ae(o){let e,n,t;e=new Ie({});const i=o[1].default,r=oe(i,o,o[0],null);return{c(){me(e.$$.fragment),n=de(),r&&r.c()},l(s){ue(e.$$.fragment,s),n=fe(s),r&&r.l(s)},m(s,a){he(e,s,a),w(s,n,a),r&&r.m(s,a),t=!0},p(s,[a]){r&&r.p&&(!t||a&1)&&se(r,i,s,s[0],t?re(i,s[0],a,null):ie(s[0]),null)},i(s){t||(V(e.$$.fragment,s),V(r,s),t=!0)},o(s){q(e.$$.fragment,s),q(r,s),t=!1},d(s){s&&_(n),ge(e,s),r&&r.d(s)}}}function Ve(o,e,n){let{$$slots:t={},$$scope:i}=e;return o.$$set=r=>{"$$scope"in r&&n(0,i=r.$$scope)},[i,t]}class He extends U{constructor(e){super(),j(this,e,Ve,Ae,P,{})}}export{He as component,De as universal};
